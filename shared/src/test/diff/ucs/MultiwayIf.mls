:NewParser


fun f(x) =
  if
    x > 0  then 0
    x == 0 then 1
    _      then 2
//│ f: number -> (0 | 1 | 2)
//│  = [Function: f]


fun f(x) =
  if
    x > 0  and
      x % 2 === 0 then true
      _           then false
    x == 0 then true
    _      then false
//│ ╔══[ERROR] Type mismatch in operator application:
//│ ║  l.16: 	      x % 2 === 0 then true
//│ ║        	      ^^^^^^^^^
//│ ╟── operator application of type `int` is not an instance of type `Eql`
//│ ║  l.16: 	      x % 2 === 0 then true
//│ ╙──      	      ^^^^^
//│ f: int -> bool
//│  = [Function: f1]

f(0)
f(2)
f(3)
f(0 - 1)
f(0 - 2)
//│ res: bool
//│    = true
//│ res: bool
//│    = true
//│ res: bool
//│    = false
//│ res: bool
//│    = false
//│ res: bool
//│    = false

fun f(x) =
  if
    x > 0  and
      x % 2 === 0 then true
      else false
    x == 0 then true
  else false
//│ ╔══[ERROR] Type mismatch in operator application:
//│ ║  l.48: 	      x % 2 === 0 then true
//│ ║        	      ^^^^^^^^^
//│ ╟── operator application of type `int` is not an instance of type `Eql`
//│ ║  l.48: 	      x % 2 === 0 then true
//│ ╙──      	      ^^^^^
//│ f: int -> bool
//│  = [Function: f2]

f(0)
f(2)
f(1)
f(0 - 1)
//│ res: bool
//│    = true
//│ res: bool
//│    = true
//│ res: bool
//│    = false
//│ res: bool
//│    = false
