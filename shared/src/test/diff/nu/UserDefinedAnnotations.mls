:NewDefs

:NoJS // * The JS backend currently doesn't know about Annotation


module tailrec2 extends Annotation
//│ module tailrec2 extends Annotation

@tailrec2
fun foo = 0
//│ fun foo: 0


class tailrec2() extends Annotation
//│ class tailrec2() extends Annotation

:e // In the future, we should still support annotations that require a constructor.
@tailrec2
fun foo = 0
//│ ╔══[ERROR] Type mismatch in definition:
//│ ║  l.19: 	fun foo = 0
//│ ║        	    ^^^^^^^
//│ ╟── reference of type `() -> tailrec2` is not an instance of type `Annotation`
//│ ║  l.18: 	@tailrec2
//│ ╙──      	 ^^^^^^^^
//│ fun foo: 0

:e
@hello
fun foo = 0
//│ ╔══[ERROR] identifier not found: hello
//│ ║  l.29: 	@hello
//│ ╙──      	 ^^^^^
//│ fun foo: 0

module hello extends Annotation
//│ module hello extends Annotation

@hello
class Triple[A](a: A, b: A, c: A)
//│ class Triple[A](a: A, b: A, c: A)

:e
@helloa
class Triple[A](a: A, b: A, c: A)
//│ ╔══[ERROR] identifier not found: helloa
//│ ║  l.44: 	@helloa
//│ ╙──      	 ^^^^^^
//│ class Triple[A](a: A, b: A, c: A)

@hello
module dummy
//│ module dummy

:e
@helloa
module dummy
//│ ╔══[ERROR] identifier not found: helloa
//│ ║  l.56: 	@helloa
//│ ╙──      	 ^^^^^^
//│ module dummy
