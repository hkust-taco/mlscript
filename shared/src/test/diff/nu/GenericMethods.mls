:NewDefs


fun foo1 = forall 'A: (x: 'A) => x
//│ fun foo1: forall 'A. (x: 'A) -> 'A
//│ foo1

foo1(42)
//│ 42
//│ res
//│     = 42

:e
foo1[Int](42)
//│ ╔══[ERROR] Type application syntax is not yet supported
//│ ║  l.14: 	foo1[Int](42)
//│ ╙──      	^^^^^^^^^
//│ 42
//│ res
//│     = 42


fun foo2<A>(x: A) = x
//│ fun foo2: forall 'A. (x: 'A) -> 'A
//│ foo2

foo2(42)
//│ 42
//│ res
//│     = 42

:e
foo2<Int>(42)
//│ ╔══[ERROR] Type application syntax is not yet supported
//│ ║  l.33: 	foo2<Int>(42)
//│ ╙──      	^^^^^^^^^
//│ 42
//│ res
//│     = 42


fun foo3[A](x: A) = x
//│ fun foo3: forall 'A. (x: 'A) -> 'A
//│ foo3

foo3(42)
//│ 42
//│ res
//│     = 42

:e
foo3[Int](42)
//│ ╔══[ERROR] Type application syntax is not yet supported
//│ ║  l.52: 	foo3[Int](42)
//│ ╙──      	^^^^^^^^^
//│ 42
//│ res
//│     = 42


fun bar: forall 'A: 'A => 'A
//│ fun bar: forall 'A. 'A -> 'A
//│ bar

:e
fun bar<A> : A => A
//│ ╔══[ERROR] Type parameters are not yet supported in this position
//│ ║  l.66: 	fun bar<A> : A => A
//│ ╙──      	        ^
//│ fun bar: forall 'A. 'A -> 'A
//│ bar

:pe
:e
:w
fun bar<A>: A => A
//│ ╔══[PARSE ERROR] Unmatched opening angle bracket
//│ ║  l.76: 	fun bar<A>: A => A
//│ ║        	       ^
//│ ╙── Note that `<` without spaces around it is considered as an angle bracket and not as an operator
//│ ╔══[PARSE ERROR] Unexpected 'fun' keyword in expression position
//│ ║  l.76: 	fun bar<A>: A => A
//│ ╙──      	^^^
//│ ╔══[WARNING] Paren-less applications should use the 'of' keyword
//│ ║  l.76: 	fun bar<A>: A => A
//│ ╙──      	    ^^^^^^^^^^^^^^
//│ ╔══[ERROR] identifier not found: >:
//│ ║  l.76: 	fun bar<A>: A => A
//│ ╙──      	         ^^
//│ ╔══[ERROR] identifier not found: A
//│ ║  l.76: 	fun bar<A>: A => A
//│ ╙──      	        ^
//│ ╔══[ERROR] identifier not found: A
//│ ║  l.76: 	fun bar<A>: A => A
//│ ╙──      	            ^
//│ ╔══[ERROR] identifier not found: A
//│ ║  l.76: 	fun bar<A>: A => A
//│ ╙──      	                 ^
//│ error
//│ Code generation encountered an error:
//│   unresolved symbol >:


:e
module Test {
  fun foo: 'A => 'A
  fun bar: 'A
  fun test<A>(x: A) = x
}
//│ ╔══[ERROR] Member `foo` is declared (or its declaration is inherited) but is not implemented in `Test`
//│ ║  l.105: 	module Test {
//│ ║         	       ^^^^
//│ ╟── Declared here:
//│ ║  l.106: 	  fun foo: 'A => 'A
//│ ╙──       	  ^^^^^^^^^^^^^^^^^
//│ ╔══[ERROR] Member `bar` is declared (or its declaration is inherited) but is not implemented in `Test`
//│ ║  l.105: 	module Test {
//│ ║         	       ^^^^
//│ ╟── Declared here:
//│ ║  l.107: 	  fun bar: 'A
//│ ╙──       	  ^^^^^^^^^^^
//│ module Test {
//│   fun bar: nothing
//│   fun foo: forall 'A. 'A -> 'A
//│   fun test: forall 'A0. (x: 'A0) -> 'A0
//│ }

class Test<A>(n: A) {
  fun test<A>(x: A) = [x, n]
}
//│ class Test[A](n: A) {
//│   fun test: forall 'A. (x: 'A) -> ['A, A]
//│ }


