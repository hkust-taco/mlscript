:NewDefs


val a = 1
val b = a + 1
//│ let a: 1
//│ let b: Int
//│ a
//│   = 1
//│ b
//│   = 2


// :e // FIXME should not type check
:ge
val c = d + 1
val d = 1
//│ let c: Int
//│ let d: 1
//│ Code generation encountered an error:
//│   unresolved symbol d


// :e // FIXME should not type check
val a = a
//│ let a: nothing
//│ a
//│   = 1


val f(x) = x
//│ let f: forall 'a. 'a -> 'a
//│ f
//│   = [Function: f]

f(123)
//│ 123
//│ res
//│     = 123


module M {
  let tmp = 2
  val f(x) = x + tmp
}
//│ module M {
//│   let f: Int -> Int
//│   let tmp: 2
//│ }

M.f(123)
//│ Int
//│ res
//│     = 125


