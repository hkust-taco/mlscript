:NewDefs

:NoJS

tailrec
//│ tailrec

@tailrec fun foo(n) =
  if n > 0 then
    log(join of "hi ", String(n))
    foo(n - 1)
  else ()
//│ fun foo: Int -> ()


module Foo extends Annotation { 
}
//│ module Foo extends Annotation

@Foo 5
//│ 5

Foo
//│ Foo

:e
@Bar 5
//│ ╔══[ERROR] identifier not found: Bar
//│ ║  l.27: 	@Bar 5
//│ ╙──      	 ^^^
//│ 5

// TODO
fun foo(n) =
  if n > 0 then
    log(join of "hi ", String(n))
    foo(div of n,  2)
    @tailrec foo(n - 1)
  else ()
//│ fun foo: Int -> ()

// TODO
foo(5)
//│ ()



// TODO: Tail recursion modulo cons
// fun foo(n) =
//   ...
//   Cons(a, foo(n - 1))
// ———>
// fun foo(n) =
//   ...
//   foo(n - 1, Cons(a, .))


