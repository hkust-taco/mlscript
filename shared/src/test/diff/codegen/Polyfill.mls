:js
n = 123 with { x = 1 }
//│ // Prelude
//│ function withConstruct(target, fields) {
//│   if (typeof target === "string" || typeof target === "number" || typeof target === "boolean" || typeof target === "bigint" || typeof target === "symbol") {
//│     return Object.assign(target, fields);
//│   }else {
//│     const copy = Object.assign({}, target, fields);
//│     Object.setPrototypeOf(copy, Object.getPrototypeOf(target));
//│     return copy;
//│   }
//│ }
//│ function id(x) {
//│   return x;
//│ }
//│ function succ(x) {
//│   return x + 1;
//│ }
//│ function add(x, y) {
//│   if (arguments.length === 2) {
//│     return x + y;
//│   }else {
//│     return (y) => (x + y);
//│   }
//│ }
//│ function mul(x, y) {
//│   if (arguments.length === 2) {
//│     return x * y;
//│   }else {
//│     return (y) => (x * y);
//│   }
//│ }
//│ function gt(x, y) {
//│   if (arguments.length === 2) {
//│     return x > y;
//│   }else {
//│     return (y) => (x > y);
//│   }
//│ }
//│ function not(x) {
//│   return !x;
//│ }
//│ let res;
//│ // Query 1
//│ const n = withConstruct(123, { 
//│ x: 1
//│  });
//│ res = n;
//│ // End of generated code
//│ n: 123 & {x: 1}
//│  = [Number: 123] { x: 1 }

:js
n + 1
//│ // Query 1
//│ res = n + 1;
//│ // End of generated code
//│ res: int
//│    = 124
