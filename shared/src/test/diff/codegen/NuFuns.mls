:NewDefs


:js
fun foo =
  fun bar(x) = x + 1
  bar(10)
//│ fun foo: int
//│ // Prelude
//│ let res;
//│ class TypingUnit {}
//│ const typing_unit = new TypingUnit;
//│ // Query 1
//│ globalThis.foo = function foo() {
//│   return ((() => {
//│     let bar = (x) => x + 1;
//│     return bar(10);
//│   })());
//│ };
//│ // End of generated code

fun foo =
  class C(a: int) { fun bar(x) = a + x + 1 }
  C(100).bar(10)
foo
//│ fun foo: int
//│ int
//│ res
//│     = [Function: foo1]

fun main =
  mixin B { log(1) }
  log(0)
  module M extends B
  log(2)
main
//│ fun main: unit
//│ unit
//│ res
//│     = [Function: main]
