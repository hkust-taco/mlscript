:js
42
//│ // Prelude
//│ let res;
//│ // Query 1
//│ res = 42;
//│ // End of generated code
//│ res: 42
//│    = 42

:js
def foo = "oops"
//│ // Query 1
//│ globalThis.foo = function foo() {
//│   return "oops";
//│ };
//│ // End of generated code
//│ foo: "oops"
//│    = [Function: foo]

:js
res
//│ // Query 1
//│ res = res;
//│ // End of generated code
//│ res: 42
//│    = 42

:js
res = 5
//│ // Query 1
//│ globalThis.res1 = 5;
//│ // End of generated code
//│ res: 5
//│    = 5

res
//│ res: 5
//│    = 5

:js
foo
//│ // Query 1
//│ res = foo();
//│ // End of generated code
//│ res: "oops"
//│    = 'oops'

:js
res
//│ // Query 1
//│ res = res;
//│ // End of generated code
//│ res: "oops"
//│    = 'oops'

def res: bool
//│ res: bool
//│    = <missing implementation>

42
//│ res: 42
//│    = 42

res
//│ res: 42
//│    = 42
