:NoJS

class Leaf
class Node
class Some[A]: { value: A }
  method Id: A -> A
class None
//│ Defined class Leaf
//│ Defined class Node
//│ Defined class Some[=A]
//│ Declared Some.Id: Some['A] -> 'A -> 'A
//│ Defined class None

def Some: 'a -> Some['a]
def None: None
//│ Some: 'a -> Some['a]
//│ None: None

rec def f w = case w of
  Leaf -> None,
  Node ->
    let left = (w).left in
    let right = (w).right in
    let tmp0 = f (left,) in
    case tmp0 of
      None -> (
        let tmp1 = f (right,) in
        case tmp1 of
          None -> Some (0,),
          Some ->
            let m = (tmp1).value in
            Some (m,)
      ),
      Some ->
        let m = (tmp0).value in
        Some (m,)
//│ f: (Leaf | Node & 'b) -> (None | Some[in 'a out 0 | 'a])
//│   where
//│     'b <: {left: Leaf | Node & 'b, right: Leaf | Node & 'b}

// * Minimizations:

rec def f w = case w of
  Node ->
    let left = (w).left in
    let tmp0 = f (left,) in
    case tmp0 of
      None -> Some (0,),
      Some ->
        let m = (tmp0).value in
        Some (m,)
//│ f: 'left -> Some[in 'a out 0 | 'a]
//│   where
//│     'left <: Node & {left: 'left}

:ds
rec def f w = case w of
  Node ->
    let tmp0 = f w.left in
    case tmp0 of
      None -> Some 0,
      Some ->
        // Some tmp0.value // * produces different result!
        let m = tmp0.value in Some m
//│ ⬤ Typed as: ‹∀ 0. f113'#›
//│  where: 
//│ 		f113'# := (α114' -> (α122' | α127'))
//│ 		α114' <: (#Node<> & α115')
//│ 		α115' <: {left: left116_117'}
//│ 		left116_117' <: α114'
//│ 		α122' :> Some['a19_123'] <: ((#None<> & α121') | ((#Some<> & α124') & ~(#None<>)))
//│ 		'a19_123' :> #0<int,number> <: value125_126'
//│ 		α124' :> (#Some<> & {Some#A: mut 'a19_128'..'a19_128', value: 'a19_128'}) | (#Some<> & {Some#A: mut 'a19_123'..'a19_123', value: 'a19_123'}) <: {value: value125_126'}
//│ 		value125'' :> value125_126'
//│ 		value125_126' :> ‹∀ 1. value125''› | #0<int,number>
//│ 		α127' :> Some['a19_128'] <: ((#None<> & α121') | ((#Some<> & α124') & ~(#None<>)))
//│ 		'a19_128' :> ‹∀ 1. value125''› <: value125_126'
//│ ⬤ Initial: ‹∀ 0. f113'#›
//│  where: 
//│ 		f113'# := (α114' -> (α122' | α127'))
//│ 		α114' <: (#Node<> & α115')
//│ 		α115' <: {left: left116_117'}
//│ 		left116_117' <: α114'
//│ 		α122' :> Some['a19_123'] <: ((#None<> & α121') | ((#Some<> & α124') & ~(#None<>)))
//│ 		'a19_123' :> #0<int,number> <: value125_126'
//│ 		α124' :> (#Some<> & {Some#A: mut 'a19_128'..'a19_128', value: 'a19_128'}) | (#Some<> & {Some#A: mut 'a19_123'..'a19_123', value: 'a19_123'}) <: {value: value125_126'}
//│ 		value125'' :> value125_126'
//│ 		value125_126' :> ‹∀ 1. value125''› | #0<int,number>
//│ 		α127' :> Some['a19_128'] <: ((#None<> & α121') | ((#Some<> & α124') & ~(#None<>)))
//│ 		'a19_128' :> ‹∀ 1. value125''› <: value125_126'
//│ allVarPols: +f113'#, -α114', -α115', -left116_117', +α122', ='a19_123', +value125'', =value125_126', +α127', ='a19_128'
//│ Renewed f113'# ~> f113_130'
//│ Renewed α114' ~> α114_131'
//│ Renewed α115' ~> α115_132'
//│ Renewed left116_117' ~> left116_133'
//│ Renewed α122' ~> α122_134'
//│ Renewed 'a19_123' ~> 'a19_135'
//│ Renewed value125_126' ~> value125_136'
//│ Renewed value125'' ~> value125_137''
//│ Renewed α127' ~> α127_138'
//│ Renewed 'a19_128' ~> 'a19_139'
//│ ⬤ Cleaned up: ‹∀ 0. f113_130'›
//│  where: 
//│ 		f113_130' :> (α114_131' -> (α122_134' | α127_138'))
//│ 		α114_131' <: (#Node<> & α115_132')
//│ 		α115_132' <: {left: left116_133'}
//│ 		left116_133' <: α114_131'
//│ 		α122_134' :> Some['a19_135']
//│ 		'a19_135' :> #0<int,number> <: value125_136'
//│ 		value125_136' :> (#0<int,number> | ‹∀ 1. value125_137''›)
//│ 		value125_137'' :> value125_136'
//│ 		α127_138' :> Some['a19_139']
//│ 		'a19_139' :> ‹∀ 1. value125_137''› <: value125_136'
//│ allVarPols: +f113_130', -α114_131', -α115_132', -left116_133', +α122_134', ='a19_135', =value125_136', +value125_137'', +α127_138', ='a19_139'
//│ consed: Map()
//│ ⬤ Unskid: ‹∀ 0. f113_130'›
//│  where: 
//│ 		f113_130' :> (α114_131' -> (α122_134' | α127_138'))
//│ 		α114_131' <: (#Node<> & α115_132')
//│ 		α115_132' <: {left: left116_133'}
//│ 		left116_133' <: α114_131'
//│ 		α122_134' :> Some['a19_135']
//│ 		'a19_135' :> #0<int,number> <: value125_136'
//│ 		value125_136' :> (#0<int,number> | ‹∀ 1. value125_137''›)
//│ 		value125_137'' :> value125_136'
//│ 		α127_138' :> Some['a19_139']
//│ 		'a19_139' :> ‹∀ 1. value125_137''› <: value125_136'
//│ analyze1[+] ‹∀ 0. f113_130'›
//│ | analyze1[+;Q(0)] f113_130'
//│ | | analyze1[+;Q(0);@[+](0)] (α114_131' -> (α122_134' | α127_138'))
//│ | | | analyze1[+;Q(0);@[+](0);-] (α114_131',)
//│ | | | | analyze1[+;Q(0);@[+](0);-] α114_131'
//│ | | | | | analyze1[+;Q(0);@[+](0);-;@[-](0)] (#Node<> & α115_132')
//│ | | | | | | analyze1[+;Q(0);@[+](0);-;@[-](0)] #Node<>
//│ | | | | | | analyze1[+;Q(0);@[+](0);-;@[-](0)] α115_132'
//│ | | | | | | | analyze1[+;Q(0);@[+](0);-;@[-](0);@[-](0)] {left: left116_133'}
//│ | | | | | | | | analyze1[+;Q(0);@[+](0);-;@[-](0);@[-](0)] left116_133'
//│ | | | | | | | | | analyze1[+;Q(0);@[+](0);-;@[-](0);@[-](0);@[-](0)] α114_131'
//│ | | | analyze1[+;Q(0);@[+](0)] (α122_134' | α127_138')
//│ | | | | analyze1[+;Q(0);@[+](0)] α122_134'
//│ | | | | | analyze1[+;Q(0);@[+](0);@[+](0)] Some['a19_135']
//│ | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=] 'a19_135'
//│ | | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=;@[+](0)] #0<int,number>
//│ | | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=;@[-](0)] value125_136'
//│ | | | | analyze1[+;Q(0);@[+](0)] α127_138'
//│ | | | | | analyze1[+;Q(0);@[+](0);@[+](0)] Some['a19_139']
//│ | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=] 'a19_139'
//│ | | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=;@[+](0)] ‹∀ 1. value125_137''›
//│ | | | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=;@[+](0);Q(0)] value125_137''
//│ | | | | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=;@[+](0);Q(0);@[+](0)] value125_136'
//│ | | | | | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=;@[+](0);Q(0);@[+](0);@[+](0)] (#0<int,number> | ‹∀ 1. value125_137''›)
//│ | | | | | | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=;@[+](0);Q(0);@[+](0);@[+](0)] #0<int,number>
//│ | | | | | | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=;@[+](0);Q(0);@[+](0);@[+](0)] ‹∀ 1. value125_137''›
//│ | | | | | | | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=;@[+](0);Q(0);@[+](0);@[+](0);Q(0)] value125_137''
//│ | | | | | | | analyze1[+;Q(0);@[+](0);@[+](0);=;@[-](0)] value125_136'
//│ [inv] 'a19_135', 'a19_139'
//│ [nums] +f113_130' 1 ; -α114_131' 2 ; -α115_132' 1 ; -left116_133' 1 ; +α122_134' 1 ; +'a19_135' 1 ; -'a19_135' 1 ; -value125_136' 2 ; +α127_138' 1 ; +'a19_139' 1 ; -'a19_139' 1 ; +value125_137'' 2 ; +value125_136' 1
//│ analyze2[+] ‹∀ 0. f113_130'›
//│ | analyze2[+;Q(0)] f113_130'
//│ | | >> Processing f113_130' at [+]
//│ | | go f113_130'   ()
//│ | | | go (α114_131' -> (α122_134' | α127_138'))   (f113_130')
//│ | | >> Occurrences LinkedHashSet(f113_130', (α114_131' -> (α122_134' | α127_138')))
//│ | | >>>> occs[+f113_130'] := LinkedHashSet(f113_130', (α114_131' -> (α122_134' | α127_138')))  <~ None
//│ | | analyze2[+;Q(0)] (α114_131' -> (α122_134' | α127_138'))
//│ | | | analyze2[+;Q(0);-] (α114_131',)
//│ | | | | analyze2[+;Q(0);-] α114_131'
//│ | | | | | >> Processing α114_131' at [-]
//│ | | | | | go α114_131'   ()
//│ | | | | | | go (#Node<> & α115_132')   (α114_131')
//│ | | | | | | | go #Node<>   (α114_131')
//│ | | | | | | | go α115_132'   (α114_131', #Node<>)
//│ | | | | | | | | go {left: left116_133'}   (α114_131', #Node<>, α115_132')
//│ | | | | | >> Occurrences LinkedHashSet(α114_131', #Node<>, α115_132', {left: left116_133'})
//│ | | | | | >>>> occs[-α114_131'] := LinkedHashSet(α114_131', #Node<>, α115_132', {left: left116_133'})  <~ None
//│ | | | | | >>>> occs[-α115_132'] := LinkedHashSet(α114_131', #Node<>, α115_132', {left: left116_133'})  <~ None
//│ | | | | | analyze2[+;Q(0);-] #Node<>
//│ | | | | | analyze2[+;Q(0);-] {left: left116_133'}
//│ | | | | | | analyze2[+;Q(0);-] left116_133'
//│ | | | | | | | >> Processing left116_133' at [-]
//│ | | | | | | | go left116_133'   ()
//│ | | | | | | | | go α114_131'   (left116_133')
//│ | | | | | | | | | go (#Node<> & α115_132')   (left116_133', α114_131')
//│ | | | | | | | | | | go #Node<>   (left116_133', α114_131')
//│ | | | | | | | | | | go α115_132'   (left116_133', α114_131', #Node<>)
//│ | | | | | | | | | | | go {left: left116_133'}   (left116_133', α114_131', #Node<>, α115_132')
//│ | | | | | | | >> Occurrences LinkedHashSet(left116_133', α114_131', #Node<>, α115_132', {left: left116_133'})
//│ | | | | | | | >>>> occs[-left116_133'] := LinkedHashSet(left116_133', α114_131', #Node<>, α115_132', {left: left116_133'})  <~ None
//│ | | | | | | | >>>> occs[-α114_131'] := LinkedHashSet(left116_133', α114_131', #Node<>, α115_132', {left: left116_133'})  <~ Some(LinkedHashSet(α114_131', #Node<>, α115_132', {left: left116_133'}))
//│ | | | | | | | >>>> occs[-α115_132'] := LinkedHashSet(left116_133', α114_131', #Node<>, α115_132', {left: left116_133'})  <~ Some(LinkedHashSet(α114_131', #Node<>, α115_132', {left: left116_133'}))
//│ | | | | | | | analyze2[+;Q(0);-] #Node<>
//│ | | | | | | | analyze2[+;Q(0);-] {left: left116_133'}
//│ | | | | | | | | analyze2[+;Q(0);-] left116_133'
//│ | | | analyze2[+;Q(0)] (α122_134' | α127_138')
//│ | | | | Components Set((Some(true),α122_134'), (Some(true),α127_138'))
//│ | | | | >> Processing (α122_134' | α127_138') at [+]
//│ | | | | go (α122_134' | α127_138')   ()
//│ | | | | | go α122_134'   ()
//│ | | | | | | go Some['a19_135']   (α122_134')
//│ | | | | | go α127_138'   (α122_134', Some['a19_135'])
//│ | | | | | | go Some['a19_139']   (α122_134', Some['a19_135'], α127_138')
//│ | | | | >> Occurrences LinkedHashSet(α122_134', Some['a19_135'], α127_138', Some['a19_139'])
//│ | | | | >>>> occs[+α122_134'] := LinkedHashSet(α122_134', Some['a19_135'], α127_138', Some['a19_139'])  <~ None
//│ | | | | >>>> occs[+α127_138'] := LinkedHashSet(α122_134', Some['a19_135'], α127_138', Some['a19_139'])  <~ None
//│ | | | | analyze2[+;Q(0)] Some['a19_135']
//│ | | | | | analyze2[+;Q(0);=] 'a19_135'
//│ | | | | | | >> Processing 'a19_135' at [+]
//│ | | | | | | go 'a19_135'   ()
//│ | | | | | | | go #0<int,number>   ('a19_135')
//│ | | | | | | >> Occurrences LinkedHashSet('a19_135', #0<int,number>)
//│ | | | | | | >>>> occs[+'a19_135'] := LinkedHashSet('a19_135', #0<int,number>)  <~ None
//│ | | | | | | analyze2[+;Q(0);=;@[+](0)] #0<int,number>
//│ | | | | | | >> Processing 'a19_135' at [-]
//│ | | | | | | go 'a19_135'   ()
//│ | | | | | | | go value125_136'   ('a19_135')
//│ | | | | | | >> Occurrences LinkedHashSet('a19_135', value125_136')
//│ | | | | | | >>>> occs[-'a19_135'] := LinkedHashSet('a19_135', value125_136')  <~ None
//│ | | | | | | >>>> occs[-value125_136'] := LinkedHashSet('a19_135', value125_136')  <~ None
//│ | | | | analyze2[+;Q(0)] Some['a19_139']
//│ | | | | | analyze2[+;Q(0);=] 'a19_139'
//│ | | | | | | >> Processing 'a19_139' at [+]
//│ | | | | | | go 'a19_139'   ()
//│ | | | | | | | go ‹∀ 1. value125_137''›   ('a19_139')
//│ | | | | | | >> Occurrences LinkedHashSet('a19_139', ‹∀ 1. value125_137''›)
//│ | | | | | | >>>> occs[+'a19_139'] := LinkedHashSet('a19_139', ‹∀ 1. value125_137''›)  <~ None
//│ | | | | | | analyze2[+;Q(0);=;@[+](0)] ‹∀ 1. value125_137''›
//│ | | | | | | | analyze2[+;Q(0);=;@[+](0);Q(0)] value125_137''
//│ | | | | | | | | >> Processing value125_137'' at [+]
//│ | | | | | | | | go value125_137''   ()
//│ | | | | | | | | | go value125_136'   (value125_137'')
//│ | | | | | | | | | | go (#0<int,number> | ‹∀ 1. value125_137''›)   (value125_137'', value125_136')
//│ | | | | | | | | | | | go #0<int,number>   (value125_137'', value125_136')
//│ | | | | | | | | | | | go ‹∀ 1. value125_137''›   (value125_137'', value125_136', #0<int,number>)
//│ | | | | | | | | >> Occurrences LinkedHashSet(value125_137'', value125_136', #0<int,number>, ‹∀ 1. value125_137''›)
//│ | | | | | | | | >>>> occs[+value125_137''] := LinkedHashSet(value125_137'', value125_136', #0<int,number>, ‹∀ 1. value125_137''›)  <~ None
//│ | | | | | | | | >>>> occs[+value125_136'] := LinkedHashSet(value125_137'', value125_136', #0<int,number>, ‹∀ 1. value125_137''›)  <~ None
//│ | | | | | | | | analyze2[+;Q(0);=;@[+](0);Q(0)] #0<int,number>
//│ | | | | | | | | analyze2[+;Q(0);=;@[+](0);Q(0)] ‹∀ 1. value125_137''›
//│ | | | | | | | | | analyze2[+;Q(0);=;@[+](0);Q(0);Q(0)] value125_137''
//│ | | | | | | >> Processing 'a19_139' at [-]
//│ | | | | | | go 'a19_139'   ()
//│ | | | | | | | go value125_136'   ('a19_139')
//│ | | | | | | >> Occurrences LinkedHashSet('a19_139', value125_136')
//│ | | | | | | >>>> occs[-'a19_139'] := LinkedHashSet('a19_139', value125_136')  <~ None
//│ | | | | | | >>>> occs[-value125_136'] := LinkedHashSet('a19_139', value125_136')  <~ Some(LinkedHashSet('a19_135', value125_136'))
//│ [occs] +f113_130' {f113_130',(α114_131' -> (α122_134' | α127_138'))} ; -α114_131' {α114_131',#Node<>,α115_132',{left: left116_133'}} ; -α115_132' {α114_131',#Node<>,α115_132',{left: left116_133'}} ; -left116_133' {left116_133',α114_131',#Node<>,α115_132',{left: left116_133'}} ; +α122_134' {α122_134',Some['a19_135'],α127_138',Some['a19_139']} ; +α127_138' {α122_134',Some['a19_135'],α127_138',Some['a19_139']} ; +'a19_135' {'a19_135',#0<int,number>} ; -'a19_135' {'a19_135',value125_136'} ; -value125_136' {value125_136'} ; +'a19_139' {'a19_139',‹∀ 1. value125_137''›} ; +value125_137'' {value125_137'',value125_136',#0<int,number>,‹∀ 1. value125_137''›} ; +value125_136' {value125_137'',value125_136',#0<int,number>,‹∀ 1. value125_137''›} ; -'a19_139' {'a19_139',value125_136'}
//│ [vars] TreeSet(f113_130', α114_131', α115_132', left116_133', α122_134', 'a19_135', value125_136', value125_137'', α127_138', 'a19_139')
//│ [rec] HashSet(value125_137'', value125_136', α114_131', α115_132', left116_133')
//│ 0[1] f113_130'
//│ 0[1] α115_132'
//│ 0[1] left116_133'
//│ 0[1] α122_134'
//│ 0[1] α127_138'
//│ 1[!] f113_130'
//│ 1[!] α122_134'
//│ 1[!] α127_138'
//│ 2[v] α114_131' None Some(LinkedHashSet(α114_131', #Node<>, α115_132', {left: left116_133'}))
//│ 2[v] 'a19_135' Some(LinkedHashSet('a19_135', #0<int,number>)) Some(LinkedHashSet('a19_135', value125_136'))
//│ 2[v] value125_136' Some(LinkedHashSet(value125_137'', value125_136', #0<int,number>, ‹∀ 1. value125_137''›)) Some(LinkedHashSet(value125_136'))
//│ 2[v] value125_137'' Some(LinkedHashSet(value125_137'', value125_136', #0<int,number>, ‹∀ 1. value125_137''›)) None
//│ 2[v] 'a19_139' Some(LinkedHashSet('a19_139', ‹∀ 1. value125_137''›)) Some(LinkedHashSet('a19_139', value125_136'))
//│ 3[v] α114_131' + -LinkedHashSet(α114_131', #Node<>, α115_132', {left: left116_133'})
//│ 3[v] 'a19_135' +LinkedHashSet('a19_135', #0<int,number>) -LinkedHashSet('a19_135', value125_136')
//│ | [w] value125_136' -LinkedHashSet(value125_136')
//│ | | 'a19_135' and value125_136' have non-equal other bounds and won't be merged
//│ 3[v] value125_136' +LinkedHashSet(value125_137'', value125_136', #0<int,number>, ‹∀ 1. value125_137''›) -LinkedHashSet(value125_136')
//│ 3[v] value125_137'' +LinkedHashSet(value125_137'', value125_136', #0<int,number>, ‹∀ 1. value125_137''›) -
//│ 3[v] 'a19_139' +LinkedHashSet('a19_139', ‹∀ 1. value125_137''›) -LinkedHashSet('a19_139', value125_136')
//│ | [w] value125_136' -LinkedHashSet(value125_136')
//│ | | 'a19_139' and value125_136' have non-equal other bounds and won't be merged
//│ [sub] f113_130' -> None, α115_132' -> None, left116_133' -> None, α122_134' -> None, α127_138' -> None
//│ [bounds] 
//│ 		f113_130' :> (α114_131' -> (α122_134' | α127_138'))
//│ 		α114_131' <: (#Node<> & α115_132')
//│ 		α115_132' <: {left: left116_133'}
//│ 		left116_133' <: α114_131'
//│ 		α122_134' :> Some['a19_135']
//│ 		'a19_135' :> #0<int,number> <: value125_136'
//│ 		value125_136' :> (#0<int,number> | ‹∀ 1. value125_137''›)
//│ 		value125_137'' :> value125_136'
//│ 		α127_138' :> Some['a19_139']
//│ 		'a19_139' :> ‹∀ 1. value125_137''› <: value125_136'
//│ [rec] Set(α114_131', value125_136', value125_137'')
//│ transform[+] ‹∀ 0. f113_130'›   ()  +  None
//│ | transform[+] f113_130'   ()  +;Q(0)  Some(0)
//│ | | -> bound Some(true)
//│ | | transform[+] (α114_131' -> (α122_134' | α127_138'))   (f113_130')  +;Q(0);@[+](0)  Some(0)
//│ | | | transform[-] (α114_131',)   ()  +;Q(0);@[+](0);-  None
//│ | | | | transform[-] α114_131'   ()  +;Q(0);@[+](0);-  None
//│ | | | | | Renewed α114_131' ~> α114_140'
//│ | | | | | Setting [±] bounds of α114_140'... (failing -, inlineBounds true, !occursInvariantly true, !recVars.contains(tv) false)
//│ | | | | | | transform[-] (#Node<> & α115_132')   (α114_131')  +;Q(0);@[+](0);-;@[-](0)  None
//│ | | | | | | | transform[-] #Node<>   (α114_131')  +;Q(0);@[+](0);-;@[-](0)  None
//│ | | | | | | | ~> #Node<>
//│ | | | | | | | transform[-] α115_132'   (α114_131')  +;Q(0);@[+](0);-;@[-](0)  None
//│ | | | | | | | | -> bound Some(false)
//│ | | | | | | | | transform[-] {left: left116_133'}   (α114_131', α115_132')  +;Q(0);@[+](0);-;@[-](0);@[-](0)  None
//│ | | | | | | | | | transform[-] left116_133'   ()  +;Q(0);@[+](0);-;@[-](0);@[-](0)  None
//│ | | | | | | | | | | -> bound Some(false)
//│ | | | | | | | | | | transform[-] α114_131'   (left116_133')  +;Q(0);@[+](0);-;@[-](0);@[-](0);@[-](0)  None
//│ | | | | | | | | | | ~> α114_140'
//│ | | | | | | | | | ~> α114_140'
//│ | | | | | | | | ~> {left: α114_140'}
//│ | | | | | | | ~> {left: α114_140'}
//│ | | | | | | ~> (#Node<> & {left: α114_140'})
//│ | | | | ~> α114_140'
//│ | | | ~> (α114_140',)
//│ | | | transform[+] (α122_134' | α127_138')   ()  +;Q(0);@[+](0)  Some(0)
//│ | | | | transform[+] α122_134'   ()  +;Q(0);@[+](0)  Some(0)
//│ | | | | | -> bound Some(true)
//│ | | | | | transform[+] Some['a19_135']   (α122_134')  +;Q(0);@[+](0);@[+](0)  Some(0)
//│ | | | | | | transform[=] 'a19_135'   ()  +;Q(0);@[+](0);@[+](0);=  None
//│ | | | | | | | Renewed 'a19_135' ~> 'a19_141'
//│ | | | | | | | Setting [±] bounds of 'a19_141'... (failing =, inlineBounds true, !occursInvariantly false, !recVars.contains(tv) true)
//│ | | | | | | | | transform[=] #0<int,number>   ('a19_135')  +;Q(0);@[+](0);@[+](0);=;@[+](0)  None
//│ | | | | | | | | ~> #0<int,number>
//│ | | | | | | | | transform[=] value125_136'   ('a19_135')  +;Q(0);@[+](0);@[+](0);=;@[-](0)  None
//│ | | | | | | | | | Renewed value125_136' ~> value125_142'
//│ | | | | | | | | | Setting [±] bounds of value125_142'... (failing -, inlineBounds true, !occursInvariantly true, !recVars.contains(tv) false)
//│ | | | | | | | | | | transform[=] (#0<int,number> | ‹∀ 1. value125_137''›)   (value125_136')  +;Q(0);@[+](0);@[+](0);=;@[-](0);@[+](0)  None
//│ | | | | | | | | | | | transform[=] #0<int,number>   (value125_136')  +;Q(0);@[+](0);@[+](0);=;@[-](0);@[+](0)  None
//│ | | | | | | | | | | | ~> #0<int,number>
//│ | | | | | | | | | | | transform[=] ‹∀ 1. value125_137''›   (value125_136')  +;Q(0);@[+](0);@[+](0);=;@[-](0);@[+](0)  None
//│ | | | | | | | | | | | | transform[=] value125_137''   (value125_136')  +;Q(0);@[+](0);@[+](0);=;@[-](0);@[+](0);Q(0)  Some(1)
//│ | | | | | | | | | | | | | Renewed value125_137'' ~> value125_143''
//│ | | | | | | | | | | | | | NEW SUBS value125_137'' -> N
//│ | | | | | | | | | | | | | transform[=] value125_136'   (value125_136', value125_137'')  +;Q(0);@[+](0);@[+](0);=;@[-](0);@[+](0);Q(0)  Some(1)
//│ | | | | | | | | | | | | | ~> ⊥
//│ | | | | | | | | | | | | ~> ⊥
//│ | | | | | | | | | | | ~> ⊥
//│ | | | | | | | | | | ~> #0<int,number>
//│ | | | | | | | | ~> value125_142'
//│ | | | | | | ~> 'a19_141'
//│ | | | | | ~> Some['a19_141']
//│ | | | | ~> Some['a19_141']
//│ | | | | transform[+] α127_138'   ()  +;Q(0);@[+](0)  Some(0)
//│ | | | | | -> bound Some(true)
//│ | | | | | transform[+] Some['a19_139']   (α127_138')  +;Q(0);@[+](0);@[+](0)  Some(0)
//│ | | | | | | transform[=] 'a19_139'   ()  +;Q(0);@[+](0);@[+](0);=  None
//│ | | | | | | | Renewed 'a19_139' ~> 'a19_144'
//│ | | | | | | | Setting [±] bounds of 'a19_144'... (failing =, inlineBounds true, !occursInvariantly false, !recVars.contains(tv) true)
//│ | | | | | | | | transform[=] ‹∀ 1. value125_137''›   ('a19_139')  +;Q(0);@[+](0);@[+](0);=;@[+](0)  None
//│ | | | | | | | | | transform[=] value125_137''   ('a19_139')  +;Q(0);@[+](0);@[+](0);=;@[+](0);Q(0)  Some(1)
//│ | | | | | | | | | | -> bound Some(true)
//│ | | | | | | | | | | transform[=] value125_136'   ('a19_139', value125_137'')  +;Q(0);@[+](0);@[+](0);=;@[+](0);Q(0);@[+](0)  Some(1)
//│ | | | | | | | | | | ~> value125_142'
//│ | | | | | | | | | ~> value125_142'
//│ | | | | | | | | ~> value125_142'
//│ | | | | | | | | transform[=] value125_136'   ('a19_139')  +;Q(0);@[+](0);@[+](0);=;@[-](0)  None
//│ | | | | | | | | ~> value125_142'
//│ | | | | | | ~> 'a19_144'
//│ | | | | | ~> Some['a19_144']
//│ | | | | ~> Some['a19_144']
//│ | | | ~> (Some['a19_141'] | Some['a19_144'])
//│ | | ~> (α114_140' -> (Some['a19_141'] | Some['a19_144']))
//│ | ~> (α114_140' -> (Some['a19_141'] | Some['a19_144']))
//│ ~> ‹∀ 0. (α114_140' -> (Some['a19_141'] | Some['a19_144']))›
//│ ⬤ Type after simplification: ‹∀ 0. (α114_140' -> (Some['a19_141'] | Some['a19_144']))›
//│  where: 
//│ 		α114_140' <: (#Node<> & {left: α114_140'})
//│ 		'a19_141' :> #0<int,number> <: value125_142'
//│ 		value125_142' :> #0<int,number>
//│ 		'a19_144' :> value125_142' <: value125_142'
//│ allVarPols: -α114_140', ='a19_141', =value125_142', ='a19_144'
//│ normLike[+] ‹∀ 0. (α114_140' -> (Some['a19_141'] | Some['a19_144']))›
//│ | norm[+] ‹∀ 0. (α114_140' -> (Some['a19_141'] | Some['a19_144']))›
//│ | | DNF: DNF(0, (α114_140' -> (Some['a19_141'] | Some['a19_144'])){})
//│ | | norm[-] (α114_140',)
//│ | | | DNF: DNF(1, (α114_140',){})
//│ | | | norm[-] α114_140'
//│ | | | | DNF: DNF(1, α114_140')
//│ | | | | norm[-] (#Node<> & {left: α114_140'})
//│ | | | | | DNF: DNF(1, #Node<>{left: α114_140'})
//│ | | | | | norm[-] α114_140'
//│ | | | | | | DNF: DNF(1, α114_140')
//│ | | | | | ~> α114_140'
//│ | | | | | rcd2 {left: α114_140'}
//│ | | | | | typeRef Node
//│ | | | | | clsFields 
//│ | | | | ~> (Node & {left: α114_140'})
//│ | | | ~> α114_140'
//│ | | ~> (α114_140',)
//│ | | norm[+] (Some['a19_141'] | Some['a19_144'])
//│ | | | DNF: DNF(1, #Some<>{}∧Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')])
//│ | | | norm[=] ('a19_141' & 'a19_144')..('a19_141' | 'a19_144')
//│ | | | | DNF: DNF(1, 'a19_141'∧'a19_144')
//│ | | | | norm[+] #0<int,number>
//│ | | | | | DNF: DNF(0, #0<int,number>{})
//│ | | | | ~> #0<int,number>
//│ | | | | norm[-] value125_142'
//│ | | | | | DNF: DNF(1, value125_142')
//│ | | | | | norm[+] #0<int,number>
//│ | | | | | | DNF: DNF(0, #0<int,number>{})
//│ | | | | | ~> #0<int,number>
//│ | | | | ~> value125_142'
//│ | | | | norm[+] value125_142'
//│ | | | | | DNF: DNF(1, value125_142')
//│ | | | | ~> value125_142'
//│ | | | | norm[-] value125_142'
//│ | | | | | DNF: DNF(1, value125_142')
//│ | | | | ~> value125_142'
//│ | | | | DNF: DNF(1, 'a19_141' | 'a19_144')
//│ | | | | factorize? 'a19_141' | 'a19_144'
//│ | | | | | Factors 'a19_144' -> 1, 'a19_141' -> 1
//│ | | | | yes: ('a19_141' | 'a19_144')
//│ | | | ~> ('a19_141' & 'a19_144')..('a19_141' | 'a19_144')
//│ | | | rcd2 {}
//│ | | | typeRef Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')]
//│ | | | clsFields Var(Some#A) -> mut ('a19_141' & 'a19_144')..('a19_141' | 'a19_144')..('a19_141' & 'a19_144')..('a19_141' | 'a19_144'), Var(value) -> ('a19_141' & 'a19_144')..('a19_141' | 'a19_144')
//│ | | | INST [1]   ‹∀ 1. Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')]›
//│ | | |   where  
//│ 		'a19_141' :> #0<int,number> <: value125_142'
//│ 		value125_142' :> #0<int,number>
//│ 		'a19_144' :> value125_142' <: value125_142'
//│ | | | TO [1] ~>  Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')]
//│ | | |   where  
//│ 		'a19_141' :> #0<int,number> <: value125_142'
//│ 		value125_142' :> #0<int,number>
//│ 		'a19_144' :> value125_142' <: value125_142'
//│ | | ~> Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')]
//│ | ~> ‹∀ 0. (α114_140' -> Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')])›
//│ ⬤ Normalized: ‹∀ 0. (α114_140' -> Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')])›
//│  where: 
//│ 		α114_140' <: (Node & {left: α114_140'})
//│ 		'a19_141' :> #0<int,number> <: value125_142'
//│ 		value125_142' :> #0<int,number>
//│ 		'a19_144' :> value125_142' <: value125_142'
//│ allVarPols: -α114_140', ='a19_141', =value125_142', ='a19_144'
//│ ⬤ Cleaned up: ‹∀ 0. (α114_140' -> Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')])›
//│  where: 
//│ 		α114_140' <: (Node & {left: α114_140'})
//│ 		'a19_141' :> #0<int,number> <: value125_142'
//│ 		value125_142' :> #0<int,number>
//│ 		'a19_144' :> value125_142' <: value125_142'
//│ allVarPols: -α114_140', ='a19_141', =value125_142', ='a19_144'
//│ consed: Map((false,(Node & {left: α114_140'})) -> α114_140')
//│ ⬤ Unskid: ‹∀ 0. (α114_140' -> Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')])›
//│  where: 
//│ 		α114_140' <: (Node & {left: α114_140'})
//│ 		'a19_141' :> #0<int,number> <: value125_142'
//│ 		value125_142' :> #0<int,number>
//│ 		'a19_144' :> value125_142' <: value125_142'
//│ analyze1[+] ‹∀ 0. (α114_140' -> Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')])›
//│ | analyze1[+;Q(0)] (α114_140' -> Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')])
//│ | | analyze1[+;Q(0);-] (α114_140',)
//│ | | | analyze1[+;Q(0);-] α114_140'
//│ | | | | analyze1[+;Q(0);-;@[-](0)] (Node & {left: α114_140'})
//│ | | | | | analyze1[+;Q(0);-;@[-](0)] Node
//│ | | | | | analyze1[+;Q(0);-;@[-](0)] {left: α114_140'}
//│ | | | | | | analyze1[+;Q(0);-;@[-](0)] α114_140'
//│ | | analyze1[+;Q(0)] Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')]
//│ | | | analyze1[+;Q(0);=] ('a19_141' & 'a19_144')..('a19_141' | 'a19_144')
//│ | | | | analyze1[-] ('a19_141' & 'a19_144')
//│ | | | | | analyze1[-] 'a19_141'
//│ | | | | | | analyze1[-;@[-](0)] value125_142'
//│ | | | | | analyze1[-] 'a19_144'
//│ | | | | | | analyze1[-;@[-](0)] value125_142'
//│ | | | | analyze1[+] ('a19_141' | 'a19_144')
//│ | | | | | analyze1[+] 'a19_141'
//│ | | | | | | analyze1[+;@[+](0)] #0<int,number>
//│ | | | | | analyze1[+] 'a19_144'
//│ | | | | | | analyze1[+;@[+](0)] value125_142'
//│ | | | | | | | analyze1[+;@[+](0);@[+](0)] #0<int,number>
//│ [inv] 
//│ [nums] -α114_140' 2 ; -'a19_141' 1 ; -value125_142' 2 ; -'a19_144' 1 ; +'a19_141' 1 ; +'a19_144' 1 ; +value125_142' 1
//│ analyze2[+] ‹∀ 0. (α114_140' -> Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')])›
//│ | analyze2[+;Q(0)] (α114_140' -> Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')])
//│ | | analyze2[+;Q(0);-] (α114_140',)
//│ | | | analyze2[+;Q(0);-] α114_140'
//│ | | | | >> Processing α114_140' at [-]
//│ | | | | go α114_140'   ()
//│ | | | | | go (Node & {left: α114_140'})   (α114_140')
//│ | | | | | | go Node   (α114_140')
//│ | | | | | | go {left: α114_140'}   (α114_140', Node)
//│ | | | | >> Occurrences LinkedHashSet(α114_140', Node, {left: α114_140'})
//│ | | | | >>>> occs[-α114_140'] := LinkedHashSet(α114_140', Node, {left: α114_140'})  <~ None
//│ | | | | analyze2[+;Q(0);-] Node
//│ | | | | analyze2[+;Q(0);-] {left: α114_140'}
//│ | | | | | analyze2[+;Q(0);-] α114_140'
//│ | | analyze2[+;Q(0)] Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')]
//│ | | | analyze2[+;Q(0);=] ('a19_141' & 'a19_144')..('a19_141' | 'a19_144')
//│ | | | | analyze2[-] ('a19_141' & 'a19_144')
//│ | | | | | Components Set((Some(false),'a19_141'), (Some(false),'a19_144'))
//│ | | | | | >> Processing ('a19_141' & 'a19_144') at [-]
//│ | | | | | go ('a19_141' & 'a19_144')   ()
//│ | | | | | | go 'a19_141'   ()
//│ | | | | | | | go value125_142'   ('a19_141')
//│ | | | | | | go 'a19_144'   ('a19_141', value125_142')
//│ | | | | | | | go value125_142'   ('a19_141', value125_142', 'a19_144')
//│ | | | | | >> Occurrences LinkedHashSet('a19_141', value125_142', 'a19_144')
//│ | | | | | >>>> occs[-'a19_141'] := LinkedHashSet('a19_141', value125_142', 'a19_144')  <~ None
//│ | | | | | >>>> occs[-value125_142'] := LinkedHashSet('a19_141', value125_142', 'a19_144')  <~ None
//│ | | | | | >>>> occs[-'a19_144'] := LinkedHashSet('a19_141', value125_142', 'a19_144')  <~ None
//│ | | | | analyze2[+] ('a19_141' | 'a19_144')
//│ | | | | | Components Set((Some(true),'a19_141'), (Some(true),'a19_144'))
//│ | | | | | >> Processing ('a19_141' | 'a19_144') at [+]
//│ | | | | | go ('a19_141' | 'a19_144')   ()
//│ | | | | | | go 'a19_141'   ()
//│ | | | | | | | go #0<int,number>   ('a19_141')
//│ | | | | | | go 'a19_144'   ('a19_141', #0<int,number>)
//│ | | | | | | | go value125_142'   ('a19_141', #0<int,number>, 'a19_144')
//│ | | | | | | | | go #0<int,number>   ('a19_141', #0<int,number>, 'a19_144', value125_142')
//│ | | | | | >> Occurrences LinkedHashSet('a19_141', #0<int,number>, 'a19_144', value125_142')
//│ | | | | | >>>> occs[+'a19_141'] := LinkedHashSet('a19_141', #0<int,number>, 'a19_144', value125_142')  <~ None
//│ | | | | | >>>> occs[+'a19_144'] := LinkedHashSet('a19_141', #0<int,number>, 'a19_144', value125_142')  <~ None
//│ | | | | | >>>> occs[+value125_142'] := LinkedHashSet('a19_141', #0<int,number>, 'a19_144', value125_142')  <~ None
//│ | | | | | analyze2[+] #0<int,number>
//│ [occs] -α114_140' {α114_140',Node,{left: α114_140'}} ; -'a19_141' {'a19_141',value125_142','a19_144'} ; -value125_142' {'a19_141',value125_142','a19_144'} ; -'a19_144' {'a19_141',value125_142','a19_144'} ; +'a19_141' {'a19_141',#0<int,number>,'a19_144',value125_142'} ; +'a19_144' {'a19_141',#0<int,number>,'a19_144',value125_142'} ; +value125_142' {'a19_141',#0<int,number>,'a19_144',value125_142'}
//│ [vars] TreeSet(α114_140', 'a19_141', value125_142', 'a19_144')
//│ [rec] Set(α114_140')
//│ 2[v] α114_140' None Some(LinkedHashSet(α114_140', Node, {left: α114_140'}))
//│ 2[v] 'a19_141' Some(LinkedHashSet('a19_141', #0<int,number>, 'a19_144', value125_142')) Some(LinkedHashSet('a19_141', value125_142', 'a19_144'))
//│   [..] 'a19_141' := ('a19_144' & value125_142')..('a19_144' | #0<int,number>)
//│ 2[v] value125_142' Some(LinkedHashSet('a19_141', #0<int,number>, 'a19_144', value125_142')) Some(LinkedHashSet('a19_141', value125_142', 'a19_144'))
//│   [..] value125_142' := 'a19_144'..('a19_144' | #0<int,number>)
//│ 2[v] 'a19_144' Some(LinkedHashSet('a19_141', #0<int,number>, 'a19_144', value125_142')) Some(LinkedHashSet('a19_141', value125_142', 'a19_144'))
//│ 3[v] α114_140' + -LinkedHashSet(α114_140', Node, {left: α114_140'})
//│ 3[v] 'a19_144' +LinkedHashSet('a19_141', #0<int,number>, 'a19_144', value125_142') -LinkedHashSet('a19_141', value125_142', 'a19_144')
//│ [sub] 'a19_141' -> Some(('a19_144' & value125_142')..('a19_144' | #0<int,number>)), value125_142' -> Some('a19_144'..('a19_144' | #0<int,number>))
//│ [bounds] 
//│ 		α114_140' <: (Node & {left: α114_140'})
//│ 		'a19_141' :> #0<int,number> <: value125_142'
//│ 		value125_142' :> #0<int,number>
//│ 		'a19_144' :> value125_142' <: value125_142'
//│ [rec] Set(α114_140')
//│ transform[+] ‹∀ 0. (α114_140' -> Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')])›   ()  +  None
//│ | transform[+] (α114_140' -> Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')])   ()  +;Q(0)  Some(0)
//│ | | transform[-] (α114_140',)   ()  +;Q(0);-  None
//│ | | | transform[-] α114_140'   ()  +;Q(0);-  None
//│ | | | | Renewed α114_140' ~> α114_145'
//│ | | | | Setting [±] bounds of α114_145'... (failing -, inlineBounds true, !occursInvariantly true, !recVars.contains(tv) false)
//│ | | | | | transform[-] (Node & {left: α114_140'})   (α114_140')  +;Q(0);-;@[-](0)  None
//│ | | | | | | transform[-] Node   (α114_140')  +;Q(0);-;@[-](0)  None
//│ | | | | | | ~> Node
//│ | | | | | | transform[-] {left: α114_140'}   (α114_140')  +;Q(0);-;@[-](0)  None
//│ | | | | | | | transform[-] α114_140'   ()  +;Q(0);-;@[-](0)  None
//│ | | | | | | | ~> α114_145'
//│ | | | | | | ~> {left: α114_145'}
//│ | | | | | ~> (Node & {left: α114_145'})
//│ | | | ~> α114_145'
//│ | | ~> (α114_145',)
//│ | | transform[+] Some[('a19_141' & 'a19_144')..('a19_141' | 'a19_144')]   ()  +;Q(0)  Some(0)
//│ | | | transform[=] ('a19_141' & 'a19_144')..('a19_141' | 'a19_144')   ()  +;Q(0);=  None
//│ | | | | transform[-] ('a19_141' & 'a19_144')   ()  -  None
//│ | | | | | transform[-] 'a19_141'   ()  -  None
//│ | | | | | | -> ('a19_144' & value125_142')..('a19_144' | #0<int,number>)
//│ | | | | | | transform[-] ('a19_144' & value125_142')..('a19_144' | #0<int,number>)   ('a19_141')  -  None
//│ | | | | | | | transform[-] ('a19_144' & value125_142')   ('a19_141')  -  None
//│ | | | | | | | | transform[-] 'a19_144'   ('a19_141')  -  None
//│ | | | | | | | | | Renewed 'a19_144' ~> 'a19_146'
//│ | | | | | | | | | Inlining [-] bounds of 'a19_144' (~> 'a19_146')
//│ | | | | | | | | | transform[-] value125_142'   ('a19_141', 'a19_144')  -;@[-](0)  None
//│ | | | | | | | | | | -> 'a19_144'..('a19_144' | #0<int,number>)
//│ | | | | | | | | | | transform[-] 'a19_144'..('a19_144' | #0<int,number>)   ('a19_141', 'a19_144', value125_142')  -;@[-](0)  None
//│ | | | | | | | | | | | transform[-] 'a19_144'   ('a19_141', 'a19_144', value125_142')  -;@[-](0)  None
//│ | | | | | | | | | | | ~> ⊤
//│ | | | | | | | | | | ~> ⊤
//│ | | | | | | | | | ~> ⊤
//│ | | | | | | | | ~> 'a19_146'
//│ | | | | | | | | transform[-] value125_142'   ('a19_141')  -  None
//│ | | | | | | | | | -> 'a19_144'..('a19_144' | #0<int,number>)
//│ | | | | | | | | | transform[-] 'a19_144'..('a19_144' | #0<int,number>)   ('a19_141', value125_142')  -  None
//│ | | | | | | | | | | transform[-] 'a19_144'   ('a19_141', value125_142')  -  None
//│ | | | | | | | | | | | Inlining [-] bounds of 'a19_144' (~> 'a19_146')
//│ | | | | | | | | | | | transform[-] value125_142'   ('a19_141', value125_142', 'a19_144')  -;@[-](0)  None
//│ | | | | | | | | | | | ~> ⊤
//│ | | | | | | | | | | ~> 'a19_146'
//│ | | | | | | | | | ~> 'a19_146'
//│ | | | | | | | | ~> 'a19_146'
//│ | | | | | | | ~> 'a19_146'
//│ | | | | | | ~> 'a19_146'
//│ | | | | | ~> 'a19_146'
//│ | | | | | transform[-] 'a19_144'   ()  -  None
//│ | | | | | | Inlining [-] bounds of 'a19_144' (~> 'a19_146')
//│ | | | | | | transform[-] value125_142'   ('a19_144')  -;@[-](0)  None
//│ | | | | | | | -> 'a19_144'..('a19_144' | #0<int,number>)
//│ | | | | | | | transform[-] 'a19_144'..('a19_144' | #0<int,number>)   ('a19_144', value125_142')  -;@[-](0)  None
//│ | | | | | | | | transform[-] 'a19_144'   ('a19_144', value125_142')  -;@[-](0)  None
//│ | | | | | | | | ~> ⊤
//│ | | | | | | | ~> ⊤
//│ | | | | | | ~> ⊤
//│ | | | | | ~> 'a19_146'
//│ | | | | ~> 'a19_146'
//│ | | | | transform[+] ('a19_141' | 'a19_144')   ()  +  None
//│ | | | | | transform[+] 'a19_141'   ()  +  None
//│ | | | | | | -> ('a19_144' & value125_142')..('a19_144' | #0<int,number>)
//│ | | | | | | transform[+] ('a19_144' & value125_142')..('a19_144' | #0<int,number>)   ('a19_141')  +  None
//│ | | | | | | | transform[+] ('a19_144' | #0<int,number>)   ('a19_141')  +  None
//│ | | | | | | | | transform[+] 'a19_144'   ('a19_141')  +  None
//│ | | | | | | | | | Inlining [+] bounds of 'a19_144' (~> 'a19_146')
//│ | | | | | | | | | transform[+] value125_142'   ('a19_141', 'a19_144')  +;@[+](0)  None
//│ | | | | | | | | | | -> 'a19_144'..('a19_144' | #0<int,number>)
//│ | | | | | | | | | | transform[+] 'a19_144'..('a19_144' | #0<int,number>)   ('a19_141', 'a19_144', value125_142')  +;@[+](0)  None
//│ | | | | | | | | | | | transform[+] ('a19_144' | #0<int,number>)   ('a19_141', 'a19_144', value125_142')  +;@[+](0)  None
//│ | | | | | | | | | | | | transform[+] 'a19_144'   ('a19_141', 'a19_144', value125_142')  +;@[+](0)  None
//│ | | | | | | | | | | | | ~> ⊥
//│ | | | | | | | | | | | | transform[+] #0<int,number>   ('a19_141', 'a19_144', value125_142')  +;@[+](0)  None
//│ | | | | | | | | | | | | ~> #0<int,number>
//│ | | | | | | | | | | | ~> #0<int,number>
//│ | | | | | | | | | | ~> #0<int,number>
//│ | | | | | | | | | ~> #0<int,number>
//│ | | | | | | | | ~> (#0<int,number> | 'a19_146')
//│ | | | | | | | | transform[+] #0<int,number>   ('a19_141')  +  None
//│ | | | | | | | | ~> #0<int,number>
//│ | | | | | | | ~> ((#0<int,number> | 'a19_146') | #0<int,number>)
//│ | | | | | | ~> ((#0<int,number> | 'a19_146') | #0<int,number>)
//│ | | | | | ~> ((#0<int,number> | 'a19_146') | #0<int,number>)
//│ | | | | | transform[+] 'a19_144'   ()  +  None
//│ | | | | | | Inlining [+] bounds of 'a19_144' (~> 'a19_146')
//│ | | | | | | transform[+] value125_142'   ('a19_144')  +;@[+](0)  None
//│ | | | | | | | -> 'a19_144'..('a19_144' | #0<int,number>)
//│ | | | | | | | transform[+] 'a19_144'..('a19_144' | #0<int,number>)   ('a19_144', value125_142')  +;@[+](0)  None
//│ | | | | | | | | transform[+] ('a19_144' | #0<int,number>)   ('a19_144', value125_142')  +;@[+](0)  None
//│ | | | | | | | | | transform[+] 'a19_144'   ('a19_144', value125_142')  +;@[+](0)  None
//│ | | | | | | | | | ~> ⊥
//│ | | | | | | | | | transform[+] #0<int,number>   ('a19_144', value125_142')  +;@[+](0)  None
//│ | | | | | | | | | ~> #0<int,number>
//│ | | | | | | | | ~> #0<int,number>
//│ | | | | | | | ~> #0<int,number>
//│ | | | | | | ~> #0<int,number>
//│ | | | | | ~> (#0<int,number> | 'a19_146')
//│ | | | | ~> (((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))
//│ | | | ~> 'a19_146'..(((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))
//│ | | ~> Some['a19_146'..(((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))]
//│ | ~> (α114_145' -> Some['a19_146'..(((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))])
//│ ~> ‹∀ 0. (α114_145' -> Some['a19_146'..(((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))])›
//│ ⬤ Resim: ‹∀ 0. (α114_145' -> Some['a19_146'..(((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))])›
//│  where: 
//│ 		α114_145' <: (Node & {left: α114_145'})
//│ allVarPols: -α114_145', ='a19_146'
//│ Consider α114_145'
//│ [subs] HashMap()
//│ ⬤ Factored: ‹∀ 0. (α114_145' -> Some['a19_146'..(((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))])›
//│  where: 
//│ 		α114_145' <: (Node & {left: α114_145'})
//│ expand ‹∀ 0. (α114_145' -> Some['a19_146'..(((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))])›
//│ | expand (α114_145' -> Some['a19_146'..(((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))])
//│ | | expand (α114_145',)
//│ | | | expand α114_145'
//│ | | | | expand ⊥
//│ | | | | ~> Bot
//│ | | | | expand (Node & {left: α114_145'})
//│ | | | | | expand Node
//│ | | | | | ~> TypeName(Node)
//│ | | | | | expand {left: α114_145'}
//│ | | | | | | expand α114_145'
//│ | | | | | | ~> α145
//│ | | | | | ~> Record(List((Var(left),Field(None,α145))))
//│ | | | | ~> Inter(TypeName(Node),Record(List((Var(left),Field(None,α145)))))
//│ | | | ~> α145
//│ | | ~> Tuple(List((None,Field(None,α145))))
//│ | | expand Some['a19_146'..(((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))]
//│ | | | expand 'a19_146'..(((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))
//│ | | | | expand 'a19_146'
//│ | | | | | expand ⊥
//│ | | | | | ~> Bot
//│ | | | | | expand ⊤
//│ | | | | | ~> Top
//│ | | | | ~> α146
//│ | | | | expand (((#0<int,number> | 'a19_146') | #0<int,number>) | (#0<int,number> | 'a19_146'))
//│ | | | | | expand ((#0<int,number> | 'a19_146') | #0<int,number>)
//│ | | | | | | expand (#0<int,number> | 'a19_146')
//│ | | | | | | | expand #0<int,number>
//│ | | | | | | | ~> Literal(IntLit(0))
//│ | | | | | | | expand 'a19_146'
//│ | | | | | | | ~> α146
//│ | | | | | | ~> Union(Literal(IntLit(0)),α146)
//│ | | | | | | expand #0<int,number>
//│ | | | | | | ~> Literal(IntLit(0))
//│ | | | | | ~> Union(Union(Literal(IntLit(0)),α146),Literal(IntLit(0)))
//│ | | | | | expand (#0<int,number> | 'a19_146')
//│ | | | | | | expand #0<int,number>
//│ | | | | | | ~> Literal(IntLit(0))
//│ | | | | | | expand 'a19_146'
//│ | | | | | | ~> α146
//│ | | | | | ~> Union(Literal(IntLit(0)),α146)
//│ | | | | ~> Union(Union(Union(Literal(IntLit(0)),α146),Literal(IntLit(0))),Union(Literal(IntLit(0)),α146))
//│ | | | ~> Bounds(α146,Union(Union(Union(Literal(IntLit(0)),α146),Literal(IntLit(0))),Union(Literal(IntLit(0)),α146)))
//│ | | ~> AppliedType(TypeName(Some),List(Bounds(α146,Union(Union(Union(Literal(IntLit(0)),α146),Literal(IntLit(0))),Union(Literal(IntLit(0)),α146)))))
//│ | ~> Function(Tuple(List((None,Field(None,α145)))),AppliedType(TypeName(Some),List(Bounds(α146,Union(Union(Union(Literal(IntLit(0)),α146),Literal(IntLit(0))),Union(Literal(IntLit(0)),α146))))))
//│ ~> PolyType(List(Right(α145), Right(α146)),Function(Tuple(List((None,Field(None,α145)))),AppliedType(TypeName(Some),List(Bounds(α146,Union(Union(Union(Literal(IntLit(0)),α146),Literal(IntLit(0))),Union(Literal(IntLit(0)),α146)))))))
//│ ⬤ Expanded: Constrained(PolyType(List(Right(α145), Right(α146)),Function(Tuple(List((None,Field(None,α145)))),AppliedType(TypeName(Some),List(Bounds(α146,Union(Union(Union(Literal(IntLit(0)),α146),Literal(IntLit(0))),Union(Literal(IntLit(0)),α146))))))),List((α145,Bounds(Bot,Inter(TypeName(Node),Record(List((Var(left),Field(None,α145)))))))),List())
//│ f: 'b -> Some[in 'a out 0 | 'a]
//│   where
//│     'b <: Node & {left: 'b}


f
//│ res: 'b -> Some[in 'a out 0 | 'a]
//│   where
//│     'b <: Node & {left: 'b}

def f w =
  let tmp0 = f w.left in
  case tmp0 of
    None -> Some 0,
    Some ->
      let m = tmp0.value in Some m
//│ f: 'b -> Some[in 'a out 0 | 'a]
//│   where
//│     'b <: {left: Node & 'b}



