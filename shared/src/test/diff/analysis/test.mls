:NoJS
:AllowTypeErrors

:ex
// add 1

:sus
// def succ x = add x 1
// x1 = false
// x2 = x1
// succ 1
// succ 2
// succ 2
// succ false
// succ x2


:d
:ex
:simplifyError
// def succ x = add x 1
// h1 f x = f x
// h1 succ false

:sus
// x1 = false
// def succ x = add x 1
// h1 f x = f x
// h1 succ 1
// h1 add 1
// h1 add 3
// h1 succ false

:sus
:d
// class Helper: { left: bool; right: int }
// def succ x = add x 1
// x1 = false
// x2 = x1
// x3 = { left = x2; right = 1 }
// x3.left


:sus
:d
:simplifyError
// r = { a = true; b = 2 }
// add r.a 1
