
a[0]
//│ |a|[|0|]|
//│ Parsed: {(a)[0]}

a[0][1]
//│ |a|[|0|]|[|1|]|
//│ Parsed: {((a)[0])[1]}

a.x[0].y[1].z
//│ |a|.x|[|0|]|.y|[|1|]|.z|
//│ Parsed: {(((((a).x)[0]).y)[1]).z}

a + b [0] * 2
//│ |a| |+| |b| |[|0|]| |*| |2|
//│ Parsed: {+ (a,) (* ((b)[0],) (2,),)}

foo
  [1]
//│ |foo|→|[|1|]|←|
//│ Parsed: {(foo)[1]}

Foo(bar) + 1
  ["hello"]
//│ |Foo|(|bar|)| |+| |1|→|[|"hello"|]|←|
//│ Parsed: {(+ (Foo (bar,),) (1,))["hello"]}

Foo(bar) +
  1["hello"]
//│ |Foo|(|bar|)| |+|→|1|[|"hello"|]|←|
//│ Parsed: {+ (Foo (bar,),) ({(1)["hello"]},)}

Foo(bar) +
  1
    ["hello"]
//│ |Foo|(|bar|)| |+|→|1|→|[|"hello"|]|←|←|
//│ Parsed: {+ (Foo (bar,),) ({(1)["hello"]},)}

Foo(bar) + 1
  [1]
  [2]
//│ |Foo|(|bar|)| |+| |1|→|[|1|]|↵|[|2|]|←|
//│ Parsed: {((+ (Foo (bar,),) (1,))[1])[2]}

Foo(bar) + 1
  [1]
    [2]
//│ |Foo|(|bar|)| |+| |1|→|[|1|]|→|[|2|]|←|←|
//│ Parsed: {((+ (Foo (bar,),) (1,))[1])[2]}

a +
  111
    [22]
  [333]
//│ |a| |+|→|111|→|[|22|]|←|↵|[|333|]|←|
//│ Parsed: {+ (a,) ({(111)[22]; '(' 333, ')'},)}

Foo(bar) +
  1
    [1]
  [2]
//│ |Foo|(|bar|)| |+|→|1|→|[|1|]|←|↵|[|2|]|←|
//│ Parsed: {+ (Foo (bar,),) ({(1)[1]; '(' 2, ')'},)}

a of [333]
//│ |a| |#of| |[|333|]|
//│ Parsed: {a ('(' 333, ')',)}

a of
  [333]
//│ |a| |#of|→|[|333|]|←|
//│ Parsed: {a ('(' 333, ')',)}

a of
  111
    [22]
  [333]
//│ |a| |#of|→|111|→|[|22|]|←|↵|[|333|]|←|
//│ Parsed: {a ({(111)[22]; '(' 333, ')'},)}

a(
  111
    [22]
  [333]
)
//│ |a|(|→|111|→|[|22|]|←|↵|[|333|]|←|↵|)|
//│ Parsed: {a ({(111)[22]; '(' 333, ')'},)}

