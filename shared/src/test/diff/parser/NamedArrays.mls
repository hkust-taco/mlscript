:AllowParseErrors


[]
//│ |[||]|
//│ Parsed: {[]}

[x: 1]
//│ |[|x|#:| |1|]|
//│ Parsed: {[x: 1,]}

[x : 1]
//│ |[|x| |#:| |1|]|
//│ Parsed: {[x : 1,]}

[x: 1,]
//│ |[|x|#:| |1|,|]|
//│ Parsed: {[x: 1,]}

[x: 1, y:]
//│ |[|x|#:| |1|,| |y|#:|]|
//│ ╔══[PARSE ERROR] Unexpected end of square bracket section; an expression was expected here
//│ ║  l.20: 	[x: 1, y:]
//│ ╙──      	         ^
//│ Parsed: {[x: 1, y: undefined,]}

[x:, y: 1]
//│ |[|x|#:|,| |y|#:| |1|]|
//│ ╔══[PARSE ERROR] Unexpected comma in expression position
//│ ║  l.27: 	[x:, y: 1]
//│ ╙──      	   ^
//│ Parsed: {[x: y : 1,]}

[x:, y:]
//│ |[|x|#:|,| |y|#:|]|
//│ ╔══[PARSE ERROR] Unexpected comma in expression position
//│ ║  l.34: 	[x:, y:]
//│ ╙──      	   ^
//│ ╔══[PARSE ERROR] Unexpected end of square bracket section; an expression was expected here
//│ ║  l.34: 	[x:, y:]
//│ ╙──      	       ^
//│ Parsed: {[x: y : (),]}

[x: 1, 2, 3]
//│ |[|x|#:| |1|,| |2|,| |3|]|
//│ Parsed: {[x: 1, 2, 3,]}

[1, y: 2, 3]
//│ |[|1|,| |y|#:| |2|,| |3|]|
//│ Parsed: {[1, y: 2, 3,]}

[x: 1, y: 2, z: 3]
//│ |[|x|#:| |1|,| |y|#:| |2|,| |z|#:| |3|]|
//│ Parsed: {[x: 1, y: 2, z: 3,]}

()
//│ |(||)|
//│ Parsed: {undefined}

(x: 1)
//│ |(|x|#:| |1|)|
//│ /!!!\ Uncaught error: scala.NotImplementedError: an implementation is missing
//│ 	at: scala.Predef$.$qmark$qmark$qmark(Predef.scala:344)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$7(NewParser.scala:672)
//│ 	at: scala.collection.immutable.List.map(List.scala:246)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$2(NewParser.scala:668)
//│ 	at: mlscript.NewParser.wrap(NewParser.scala:66)
//│ 	at: mlscript.NewParser.exprOrIf(NewParser.scala:599)
//│ 	at: mlscript.NewParser.block(NewParser.scala:540)
//│ 	at: mlscript.NewParser.typingUnit(NewParser.scala:228)
//│ 	at: mlscript.DiffTests.$anonfun$new$27(DiffTests.scala:427)
//│ 	at: mlscript.NewParser.parseAll(NewParser.scala:73)

(x:)
//│ |(|x|#:|)|
//│ ╔══[PARSE ERROR] Unexpected end of parenthesis section; an expression was expected here
//│ ║  l.74: 	(x:)
//│ ╙──      	   ^
//│ /!!!\ Uncaught error: scala.NotImplementedError: an implementation is missing
//│ 	at: scala.Predef$.$qmark$qmark$qmark(Predef.scala:344)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$7(NewParser.scala:672)
//│ 	at: scala.collection.immutable.List.map(List.scala:246)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$2(NewParser.scala:668)
//│ 	at: mlscript.NewParser.wrap(NewParser.scala:66)
//│ 	at: mlscript.NewParser.exprOrIf(NewParser.scala:599)
//│ 	at: mlscript.NewParser.block(NewParser.scala:540)
//│ 	at: mlscript.NewParser.typingUnit(NewParser.scala:228)
//│ 	at: mlscript.DiffTests.$anonfun$new$27(DiffTests.scala:427)
//│ 	at: mlscript.NewParser.parseAll(NewParser.scala:73)

(x: 1,)
//│ |(|x|#:| |1|,|)|
//│ /!!!\ Uncaught error: scala.NotImplementedError: an implementation is missing
//│ 	at: scala.Predef$.$qmark$qmark$qmark(Predef.scala:344)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$7(NewParser.scala:672)
//│ 	at: scala.collection.immutable.List.map(List.scala:246)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$2(NewParser.scala:668)
//│ 	at: mlscript.NewParser.wrap(NewParser.scala:66)
//│ 	at: mlscript.NewParser.exprOrIf(NewParser.scala:599)
//│ 	at: mlscript.NewParser.block(NewParser.scala:540)
//│ 	at: mlscript.NewParser.typingUnit(NewParser.scala:228)
//│ 	at: mlscript.DiffTests.$anonfun$new$27(DiffTests.scala:427)
//│ 	at: mlscript.NewParser.parseAll(NewParser.scala:73)

(x: 1, 2, 3)
//│ |(|x|#:| |1|,| |2|,| |3|)|
//│ /!!!\ Uncaught error: scala.NotImplementedError: an implementation is missing
//│ 	at: scala.Predef$.$qmark$qmark$qmark(Predef.scala:344)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$7(NewParser.scala:672)
//│ 	at: scala.collection.immutable.List.map(List.scala:246)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$2(NewParser.scala:668)
//│ 	at: mlscript.NewParser.wrap(NewParser.scala:66)
//│ 	at: mlscript.NewParser.exprOrIf(NewParser.scala:599)
//│ 	at: mlscript.NewParser.block(NewParser.scala:540)
//│ 	at: mlscript.NewParser.typingUnit(NewParser.scala:228)
//│ 	at: mlscript.DiffTests.$anonfun$new$27(DiffTests.scala:427)
//│ 	at: mlscript.NewParser.parseAll(NewParser.scala:73)

(1, y: 2, 3)
//│ |(|1|,| |y|#:| |2|,| |3|)|
//│ /!!!\ Uncaught error: scala.NotImplementedError: an implementation is missing
//│ 	at: scala.Predef$.$qmark$qmark$qmark(Predef.scala:344)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$7(NewParser.scala:672)
//│ 	at: scala.collection.immutable.List.map(List.scala:250)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$2(NewParser.scala:668)
//│ 	at: mlscript.NewParser.wrap(NewParser.scala:66)
//│ 	at: mlscript.NewParser.exprOrIf(NewParser.scala:599)
//│ 	at: mlscript.NewParser.block(NewParser.scala:540)
//│ 	at: mlscript.NewParser.typingUnit(NewParser.scala:228)
//│ 	at: mlscript.DiffTests.$anonfun$new$27(DiffTests.scala:427)
//│ 	at: mlscript.NewParser.parseAll(NewParser.scala:73)

(x: 1, y: 2, z: 3)
//│ |(|x|#:| |1|,| |y|#:| |2|,| |z|#:| |3|)|
//│ /!!!\ Uncaught error: scala.NotImplementedError: an implementation is missing
//│ 	at: scala.Predef$.$qmark$qmark$qmark(Predef.scala:344)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$7(NewParser.scala:672)
//│ 	at: scala.collection.immutable.List.map(List.scala:246)
//│ 	at: mlscript.NewParser.$anonfun$exprOrIf$2(NewParser.scala:668)
//│ 	at: mlscript.NewParser.wrap(NewParser.scala:66)
//│ 	at: mlscript.NewParser.exprOrIf(NewParser.scala:599)
//│ 	at: mlscript.NewParser.block(NewParser.scala:540)
//│ 	at: mlscript.NewParser.typingUnit(NewParser.scala:228)
//│ 	at: mlscript.DiffTests.$anonfun$new$27(DiffTests.scala:427)
//│ 	at: mlscript.NewParser.parseAll(NewParser.scala:73)


1
//│ |1|
//│ Parsed: {1}

x: 1
//│ |x|#:| |1|
//│ Parsed: {x : 1}

1,
//│ |1|,|
//│ ╔══[PARSE ERROR] Unexpected end of input; an expression was expected here
//│ ║  l.156: 	1,
//│ ╙──       	  ^
//│ Parsed: {,(1, undefined,)}

x: 1,
//│ |x|#:| |1|,|
//│ ╔══[PARSE ERROR] Unexpected end of input; an expression was expected here
//│ ║  l.163: 	x: 1,
//│ ╙──       	     ^
//│ Parsed: {x : ,[1, ()]}

1, 2, 3
//│ |1|,| |2|,| |3|
//│ Parsed: {,(1, ,(2, 3,),)}

f of 1, 2, 3
//│ |f| |#of| |1|,| |2|,| |3|
//│ Parsed: {f(1, 2, 3,)}

f of x: 1, y: 2, z: 3
//│ |f| |#of| |x|#:| |1|,| |y|#:| |2|,| |z|#:| |3|
//│ Parsed: {f(x: 1, y: 2, z: 3,)}

f of x: 1, 2, z: 3
//│ |f| |#of| |x|#:| |1|,| |2|,| |z|#:| |3|
//│ Parsed: {f(x: 1, 2, z: 3,)}

f of
  x: 1, 2, 3
//│ |f| |#of|→|x|#:| |1|,| |2|,| |3|←|
//│ Parsed: {f(x: 1, 2, 3,)}

f of
  x: 1,
  y: 2,
  z: 3
//│ |f| |#of|→|x|#:| |1|,|↵|y|#:| |2|,|↵|z|#:| |3|←|
//│ Parsed: {f(x: 1, y: 2, z: 3,)}

f of
  x: 1
  y: 2
  z: 3
//│ |f| |#of|→|x|#:| |1|↵|y|#:| |2|↵|z|#:| |3|←|
//│ ╔══[PARSE ERROR] Unexpected named argument name here
//│ ║  l.199: 	  x: 1
//│ ╙──       	  ^
//│ ╔══[PARSE ERROR] Unexpected named argument name here
//│ ║  l.200: 	  y: 2
//│ ╙──       	  ^
//│ Parsed: {f(z: {1; 2; 3},)}

f of
  x: 1
  2
  z: 3
//│ |f| |#of|→|x|#:| |1|↵|2|↵|z|#:| |3|←|
//│ ╔══[PARSE ERROR] Unexpected named argument name here
//│ ║  l.212: 	  x: 1
//│ ╙──       	  ^
//│ Parsed: {f(z: {1; 2; 3},)}

f of
  x: 1
  y: 2
  3
//│ |f| |#of|→|x|#:| |1|↵|y|#:| |2|↵|3|←|
//│ ╔══[PARSE ERROR] Unexpected named argument name here
//│ ║  l.222: 	  x: 1
//│ ╙──       	  ^
//│ ╔══[PARSE ERROR] Unexpected named argument name here
//│ ║  l.223: 	  y: 2
//│ ╙──       	  ^
//│ Parsed: {f({1; 2; 3},)}



